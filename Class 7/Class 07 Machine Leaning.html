<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Yu-Chia Huang (PID: A59026739)">

<title>Class 7: Machine Learning 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Class 07 Machine Leaning_files/libs/clipboard/clipboard.min.js"></script>
<script src="Class 07 Machine Leaning_files/libs/quarto-html/quarto.js"></script>
<script src="Class 07 Machine Leaning_files/libs/quarto-html/popper.min.js"></script>
<script src="Class 07 Machine Leaning_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Class 07 Machine Leaning_files/libs/quarto-html/anchor.min.js"></script>
<link href="Class 07 Machine Leaning_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Class 07 Machine Leaning_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Class 07 Machine Leaning_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Class 07 Machine Leaning_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Class 07 Machine Leaning_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Class 7: Machine Learning 1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Yu-Chia Huang (PID: A59026739) </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>#Clustering</p>
<p>We will star with k-means clustering, one of the most prevelent of all clustering methods.</p>
<p>To get started let’s make some data up:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">rnorm</span>(<span class="dv">100000</span>, <span class="at">mean =</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Class-07-Machine-Leaning_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="fu">rnorm</span>(<span class="dv">30</span>,<span class="dv">3</span>), <span class="fu">rnorm</span>(<span class="dv">30</span>, <span class="sc">-</span><span class="dv">3</span>))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="at">x=</span>tmp, <span class="at">y=</span><span class="fu">rev</span>(tmp))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Class-07-Machine-Leaning_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The main function in R for k-means clustering is called <code>kmeans()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(x, <span class="at">centers=</span><span class="dv">2</span>, <span class="at">nstart=</span><span class="dv">20</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>k</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>K-means clustering with 2 clusters of sizes 30, 30

Cluster means:
          x         y
1 -3.138291  2.973989
2  2.973989 -3.138291

Clustering vector:
 [1] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 1 1 1 1 1 1 1 1
[39] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1

Within cluster sum of squares by cluster:
[1] 39.69366 39.69366
 (between_SS / total_SS =  93.4 %)

Available components:

[1] "cluster"      "centers"      "totss"        "withinss"     "tot.withinss"
[6] "betweenss"    "size"         "iter"         "ifault"      </code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Q1. How many points are in each cluster?</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>k<span class="sc">$</span>size</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30 30</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Q2. The clustering result i.e.&nbsp;membership vector? Q. What ‘component’ of your result object details - cluster size? - cluster assignment/membership? - cluster center?</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>k<span class="sc">$</span>cluster</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 1 1 1 1 1 1 1 1
[39] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Q3. Cluster centers</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>k<span class="sc">$</span>centers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          x         y
1 -3.138291  2.973989
2  2.973989 -3.138291</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Q4. Make a plot of our data colored by clustering results with optionally the cluster centers shown.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">col=</span>k<span class="sc">$</span>cluster, <span class="at">pch=</span><span class="dv">16</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(k<span class="sc">$</span>centers, <span class="at">col=</span><span class="st">"blue"</span>, <span class="at">pch=</span><span class="dv">15</span>, <span class="at">cex=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Class-07-Machine-Leaning_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<blockquote class="blockquote">
<p>Q5. Run kmeans again but cluster into 3 and plot the results like we did above.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>k3 <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(x, <span class="at">centers=</span><span class="dv">3</span>, <span class="at">nstart=</span><span class="dv">20</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">col=</span>k3<span class="sc">$</span>cluster, <span class="at">pch=</span><span class="dv">16</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(k3<span class="sc">$</span>centers, <span class="at">col=</span><span class="st">"blue"</span>, <span class="at">pch=</span><span class="dv">15</span>, <span class="at">cex=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Class-07-Machine-Leaning_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="hierarchical-clustering" class="level1">
<h1>Hierarchical Clustering</h1>
<p>Hierarchical clustering it has an advantage in that it can reveal the structure in your data rather than imposing a structure as k-means will.</p>
<p>The main function in “base” R is called <code>hclust()</code>.</p>
<p>It requires a distance matrix as input, not the raw data itself.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dist</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             1           2           3           4           5           6
2   1.26779167                                                            
3   2.37771650  1.59498287                                                
4   1.59136180  0.68793957  0.91549317                                    
5   1.70571640  0.45171522  1.36183259  0.59357393                        
6   0.93546169  1.10283288  1.52576198  0.95508057  1.37214201            
7   1.29852966  0.07371802  1.52128574  0.61504960  0.40863689  1.07654466
8   2.07191787  0.88535928  1.02257449  0.60378929  0.46633646  1.55190634
9   2.97913528  1.73695934  1.49299456  1.51296575  1.28541396  2.46803412
10  2.41817556  1.15098245  1.63034703  1.20677275  0.73892356  2.09505639
11  1.80393575  0.77400598  2.14282865  1.33969225  0.78309801  1.86703772
12  1.06484017  0.74013069  2.32553185  1.41060276  1.12255721  1.45857887
13  2.02282451  2.37424479  3.95535912  3.03996785  2.72715465  2.85350259
14  0.99662859  1.14518808  1.48878332  0.95720477  1.39755333  0.06678037
15  1.08832471  0.56873771  1.33224519  0.50489111  0.81086015  0.56340731
16  0.49549478  0.77229767  2.01434469  1.16012346  1.21227453  0.79173311
17  1.22644470  1.54115668  3.09942086  2.18638757  1.93178017  1.99358928
18  1.55083762  1.78264958  3.36490395  2.44941585  2.14104267  2.31281664
19  1.23352477  1.06041956  1.19560289  0.71377640  1.22425600  0.33026548
20  1.43875931  1.29917716  1.11021448  0.85480436  1.41448091  0.50354886
21  0.92528778  2.11627013  2.83957023  2.24884394  2.51942207  1.33240091
22  1.91109934  0.80138364  0.90193713  0.38446875  0.46710791  1.33846038
23  1.96631058  1.15616396  0.44644399  0.47107492  0.97153565  1.17293967
24  1.33365352  1.46887673  1.39631518  1.12197120  1.64957921  0.45176935
25  0.58998128  0.75818820  2.15614734  1.26803614  1.20986622  1.01928123
26  0.91560319  0.51542157  1.53639220  0.68255900  0.86155916  0.59715573
27  1.03395408  0.32735410  1.53071397  0.63055076  0.69197056  0.77881140
28  1.46563577  0.64928425  0.99592991  0.13227494  0.64700004  0.82798359
29  2.36179172  1.29430995  2.42611505  1.74787269  1.15439684  2.39713867
30  1.98465481  1.29293000  0.39539386  0.60757520  1.15112902  1.13324515
31  8.11339452  7.63935490  6.04977293  6.95219108  7.39542268  7.18389280
32 10.18878688  9.57362955  7.98320033  8.89867771  9.27580859  9.25332594
33  8.76275964  8.29384718  6.70395149  7.60672654  8.04859669  7.83433733
34  9.25990459  8.81299407  7.22534851  8.12542900  8.57302823  8.33432057
35  9.19073660  8.76753942  7.18383243  8.07964416  8.53573413  8.26806124
36  9.79569791  9.38876579  7.80693677  8.70082696  9.16010874  8.87590177
37  8.40640238  8.07824790  6.52039120  7.39244077  7.88194478  7.49804650
38  8.25953436  7.76420391  6.17206523  7.07787261  7.51244633  7.32833074
39  8.73831336  8.19992932  6.60506457  7.51633282  7.93180032  7.80459662
40  9.58942121  9.37681089  7.85548205  8.69833280  9.21439332  8.70938194
41  8.35142680  7.97982327  6.40970300  7.29247741  7.76910531  7.43532745
42  8.59863412  8.21307880  6.63864130  7.52538869  7.99645090  7.68067632
43 11.09573728 10.66514415  9.07765227  9.97751621 10.42469516 10.17368598
44 10.79287881 10.37765498  8.79286607  9.68979237 10.14309876  9.87275535
45  9.59084465  9.19928080  7.62093709  8.51140362  8.97648455  8.67315531
46  8.99637199  8.56578128  6.98114870  7.87793373  8.33230345  8.07253481
47  8.76559699  8.41315200  6.84666896  7.72622608  8.20689703  7.85335718
48 11.66476642 11.24822828  9.66226399 10.56043471 11.01096101 10.74509341
49 10.09873466  9.63972305  8.04951759  8.95262990  9.39281696  9.17242661
50  9.97964129  9.42566367  7.83081842  8.74403323  9.14810289  9.04562273
51  9.29711643  8.66844795  7.07907999  7.99456695  8.36892358  8.36178850
52  8.76551914  8.07872284  6.49978960  7.41334984  7.76236905  7.83273030
53  8.81910159  8.25184904  6.65710990  7.57065871  7.97392761  7.88423751
54  9.33413127  8.84681167  7.25439295  8.16055517  8.59319308  8.40439016
55  8.83143058  8.47675020  6.90942242  7.78973189  8.26944106  7.91889281
56  9.20282311  8.66687136  7.07197569  7.98337287  8.39774997  8.26944106
57  8.71977835  8.23403060  6.64231980  7.54748743  7.98337287  7.78973189
58  7.84227110  7.32795890  5.73466136  6.64231980  7.07197569  6.90942242
59  9.40632157  8.92031947  7.32795890  8.23403060  8.66687136  8.47675020
60  9.73861869  9.40632157  7.84227110  8.71977835  9.20282311  8.83143058
             7           8           9          10          11          12
2                                                                         
3                                                                         
4                                                                         
5                                                                         
6                                                                         
7                                                                         
8   0.82586738                                                            
9   1.69226098  0.92664954                                                
10  1.12717710  0.65733677  0.73001563                                    
11  0.81811247  1.17427515  1.68080472  0.95207005                        
12  0.81286403  1.58747796  2.34081091  1.65381209  0.81667642            
13  2.44718831  3.19204693  3.82890848  3.10059161  2.14852738  1.63442998
14  1.11564729  1.55813504  2.46899355  2.11433939  1.91315510  1.52056967
15  0.52912245  1.04445851  1.97110702  1.54109831  1.34268294  1.11290148
16  0.80418539  1.59354872  2.49070679  1.92280305  1.35385242  0.72201006
17  1.61207101  2.39716062  3.12282102  2.41360654  1.49076550  0.80983429
18  1.85556508  2.60686550  3.27399737  2.55065703  1.60281715  1.04279393
19  1.01449174  1.31652319  2.20942537  1.90890814  1.83234989  1.56966207
20  1.24811256  1.43585261  2.28677017  2.06092102  2.06514429  1.82871209
21  2.13055937  2.81253999  3.73909668  3.25501387  2.72076522  1.98834176
22  0.73279895  0.22507145  1.13025690  0.86840725  1.24215102  1.53482075
23  1.08272197  0.73637426  1.46183800  1.39191349  1.75260448  1.88160971
24  1.42826996  1.71676085  2.58308733  2.32619925  2.24288259  1.90198573
25  0.80808352  1.63019689  2.49472953  1.88142139  1.21420970  0.50772045
26  0.50203674  1.16844817  2.08920297  1.60033379  1.27049581  0.93586886
27  0.31533104  1.03881061  1.94695507  1.42771591  1.08905917  0.83998138
28  0.58007228  0.72494234  1.64091495  1.30559724  1.35256226  1.34591031
29  1.32424733  1.40410846  1.58021501  0.90731366  0.56155111  1.34294474
30  1.22078737  0.93457475  1.63262311  1.58989248  1.92700914  2.00048342
31  7.56598309  6.98750604  6.85654215  7.42401495  8.15962234  8.35535681
32  9.49998928  8.83650811  8.53739879  9.18122142 10.00502969 10.30832992
33  8.22046497  7.63910063  7.49500749  8.07009768  8.81172379  9.00993861
34  8.73972623  8.16625421  8.02911263  8.60177910  9.33812653  9.52618165
35  8.69445736  8.13411427  8.01820729  8.58049770  9.30412478  9.47664011
36  9.31577867  8.75987867  8.64478472  9.20761780  9.92937075 10.09573482
37  8.00627648  7.50488300  7.48568251  7.99675525  8.66070722  8.76766069
38  7.69070355  7.09958701  6.94623332  7.52465449  8.27295938  8.48362770
39  8.12625474  7.50892800  7.30585975  7.90786366  8.68316867  8.92573333
40  9.30644737  8.85981985  8.90281377  9.38115444  9.99713371 10.04127586
41  7.90732748  7.38228177  7.32962963  7.85836173  8.54460775  8.67807581
42  8.14040265  7.60533941  7.53466809  8.07322277  8.77020497  8.91445747
43 10.59189687 10.01616341  9.85978005 10.44398262 11.18867195 11.37747225
44 10.30453809  9.73837078  9.59914571 10.17491951 10.90967545 11.08711321
45  9.12645074  8.58019296  8.48174481  9.03604970  9.74787456  9.90320081
46  8.49265372  7.92983934  7.81224258  8.37502346  9.10016529  9.27590539
47  8.34082637  7.82249351  7.77441960  8.30155809  8.98336230  9.10826742
48 11.17506026 10.60400611 10.45124674 11.03433255 11.77608436 11.95864978
49  9.56633287  8.98110849  8.81730708  9.40375695 10.15435020 10.35573529
50  9.35195038  8.71915021  8.47690098  9.09771612  9.89247646 10.15435020
51  8.59483267  7.92926622  7.63411163  8.27517776  9.09771612  9.40375695
52  8.00540680  7.31533937  6.97830781  7.63411163  8.47690098  8.81730708
53  8.17813314  7.54559876  7.31533937  7.92926622  8.71915021  8.98110849
54  8.77330041  8.17813314  8.00540680  8.59483267  9.35195038  9.56633287
55  8.40439016  7.88423751  7.83273030  8.36178850  9.04562273  9.17242661
56  8.59319308  7.97392761  7.76236905  8.36892358  9.14810289  9.39281696
57  8.16055517  7.57065871  7.41334984  7.99456695  8.74403323  8.95262990
58  7.25439295  6.65710990  6.49978960  7.07907999  7.83081842  8.04951759
59  8.84681167  8.25184904  8.07872284  8.66844795  9.42566367  9.63972305
60  9.33413127  8.81910159  8.76551914  9.29711643  9.97964129 10.09873466
            13          14          15          16          17          18
2                                                                         
3                                                                         
4                                                                         
5                                                                         
6                                                                         
7                                                                         
8                                                                         
9                                                                         
10                                                                        
11                                                                        
12                                                                        
13                                                                        
14  2.92025130                                                            
15  2.68277552  0.59462394                                                
16  2.07612395  0.85798425  0.68260482                                    
17  0.87260552  2.06033854  1.81191093  1.20841772                        
18  0.59163632  2.37947077  2.10328254  1.52392824  0.32624670            
19  3.06681970  0.29602593  0.49531066  0.99248181  2.19620785  2.50529238
20  3.31693696  0.44490980  0.74370898  1.24082845  2.44796843  2.75934765
21  2.62750599  1.35836845  1.76825085  1.37473963  1.98774926  2.28487809
22  3.16233325  1.34162231  0.85267536  1.44706266  2.34105746  2.57215294
23  3.50968140  1.14856092  0.89786860  1.58004551  2.65298862  2.91956140
24  3.29747186  0.38610457  0.90029865  1.24329601  2.44185319  2.76243655
25  1.86920989  1.08504503  0.83288070  0.23178989  0.99723426  1.30613304
26  2.48232234  0.64616729  0.20598354  0.48195001  1.61047317  1.90576427
27  2.43802907  0.82409605  0.28361254  0.55743492  1.57331380  1.85231771
28  2.96567293  0.83320372  0.37738547  1.04476353  2.10521330  2.37707904
29  2.41278304  2.43874814  1.85255029  1.91540321  1.90150809  1.93622342
30  3.61651172  1.09870764  0.95690941  1.63457568  2.75204391  3.02931718
31  9.95989178  7.12026319  7.27713710  7.90797085  9.08874681  9.37796823
32 11.93806780  9.19254785  9.27550606  9.93424475 11.07749597 11.34800758
33 10.61400304  7.77050892  7.93122909  8.56085598  9.74272436 10.03231102
34 11.12543942  8.27004523  8.44298465  9.06741552 10.25353319 10.54538028
35 11.06971251  8.20341445  8.38849617  9.00712484 10.19734098 10.49167624
36 11.68486683  8.81096145  9.00493454  9.61947789 10.81232356 11.10821278
37 10.33127882  7.43225165  7.66409429  8.25721725  9.45947176  9.76272479
38 10.09299779  7.26509257  7.41081524  8.04644612  9.22272602  9.50952222
39 10.54389238  7.74218999  7.86539235  8.51010320  9.67610181  9.95759403
40 11.56177223  8.64273645  8.92928766  9.48742116 10.69575274 11.00776946
41 10.25556395  7.37003958  7.58031599  8.18550555  9.38303285  9.68247349
42 10.49637585  7.61554750  7.81908340  8.42801912  9.62377542  9.92189281
43 12.97396075 10.10899399 10.29210611 10.91259060 12.10173699 12.39501127
44 12.67927419  9.80785988  9.99849426 10.61516264 11.80681470 12.10173699
45 11.48776773  8.60802058  8.80953207  9.42010248 10.61516264 10.91259060
46 10.87075170  8.00802384  8.18907289  8.80953207  9.99849426 10.29210611
47 10.68016393  7.78780077  8.00802384  8.60802058  9.80785988 10.10899399
48 13.55171209 10.68016393 10.87075170 11.48776773 12.67927419 12.97396075
49 11.95864978  9.10826742  9.27590539  9.90320081 11.08711321 11.37747225
50 11.77608436  8.98336230  9.10016529  9.74787456 10.90967545 11.18867195
51 11.03433255  8.30155809  8.37502346  9.03604970 10.17491951 10.44398262
52 10.45124674  7.77441960  7.81224258  8.48174481  9.59914571  9.85978005
53 10.60400611  7.82249351  7.92983934  8.58019296  9.73837078 10.01616341
54 11.17506026  8.34082637  8.49265372  9.12645074 10.30453809 10.59189687
55 10.74509341  7.85335718  8.07253481  8.67315531  9.87275535 10.17368598
56 11.01096101  8.20689703  8.33230345  8.97648455 10.14309876 10.42469516
57 10.56043471  7.72622608  7.87793373  8.51140362  9.68979237  9.97751621
58  9.66226399  6.84666896  6.98114870  7.62093709  8.79286607  9.07765227
59 11.24822828  8.41315200  8.56578128  9.19928080 10.37765498 10.66514415
60 11.66476642  8.76559699  8.99637199  9.59084465 10.79287881 11.09573728
            19          20          21          22          23          24
2                                                                         
3                                                                         
4                                                                         
5                                                                         
6                                                                         
7                                                                         
8                                                                         
9                                                                         
10                                                                        
11                                                                        
12                                                                        
13                                                                        
14                                                                        
15                                                                        
16                                                                        
17                                                                        
18                                                                        
19                                                                        
20  0.25911832                                                            
21  1.65433618  1.74080790                                                
22  1.09398144  1.21090763  2.61792322                                    
23  0.85441746  0.85386999  2.50516188  0.55125497                        
24  0.42552448  0.30240079  1.49238731  1.49190226  1.15626645            
25  1.19968349  1.45321467  1.51162609  1.51027237  1.71365017  1.47103076
26  0.63581925  0.89425057  1.66211377  0.99710922  1.09912431  1.00070733
27  0.77384240  1.02594228  1.82775868  0.89012720  1.08501179  1.16379775
28  0.60374817  0.77001579  2.11669934  0.51074216  0.55019065  1.02153004
29  2.32717828  2.54342973  3.28100547  1.54541693  2.09369783  2.74771798
30  0.80378148  0.74588246  2.45430092  0.74658322  0.19820103  1.04388134
31  6.92101440  6.68719120  8.09144409  6.92831764  6.48330119  6.78551402
32  8.96778109  8.75021374 10.25303279  8.81447404  8.42847222  8.88274772
33  7.57322361  7.33845481  8.72783420  7.58148996  7.13776894  7.43356345
34  8.07794333  7.84066964  9.20208756  8.10594735  7.65729186  7.92847252
35  8.01625521  7.77670930  9.11570620  8.06887980  7.61285432  7.85800734
36  8.62784715  8.38662006  9.70167711  8.69336961  8.23471432  8.46226736
37  7.26503579  7.01777379  8.27041057  7.41867520  6.93405438  7.07379265
38  7.06163591  6.83011011  8.25177038  7.04541971  6.60807581  6.93405438
39  7.53065719  7.30394573  8.75741592  7.46572199  7.04541971  7.41867520
40  8.50271818  8.24851710  9.35459582  8.75741592  8.25177038  8.27041057
41  7.19311423  6.94927109  8.24851710  7.30394573  6.83011011  7.01777379
42  7.43585181  7.19311423  8.50271818  7.53065719  7.06163591  7.26503579
43  9.92189281  9.68247349 11.00776946  9.95759403  9.50952222  9.76272479
44  9.62377542  9.38303285 10.69575274  9.67610181  9.22272602  9.45947176
45  8.42801912  8.18550555  9.48742116  8.51010320  8.04644612  8.25721725
46  7.81908340  7.58031599  8.92928766  7.86539235  7.41081524  7.66409429
47  7.61554750  7.37003958  8.64273645  7.74218999  7.26509257  7.43225165
48 10.49637585 10.25556395 11.56177223 10.54389238 10.09299779 10.33127882
49  8.91445747  8.67807581 10.04127586  8.92573333  8.48362770  8.76766069
50  8.77020497  8.54460775  9.99713371  8.68316867  8.27295938  8.66070722
51  8.07322277  7.85836173  9.38115444  7.90786366  7.52465449  7.99675525
52  7.53466809  7.32962963  8.90281377  7.30585975  6.94623332  7.48568251
53  7.60533941  7.38228177  8.85981985  7.50892800  7.09958701  7.50488300
54  8.14040265  7.90732748  9.30644737  8.12625474  7.69070355  8.00627648
55  7.68067632  7.43532745  8.70938194  7.80459662  7.32833074  7.49804650
56  7.99645090  7.76910531  9.21439332  7.93180032  7.51244633  7.88194478
57  7.52538869  7.29247741  8.69833280  7.51633282  7.07787261  7.39244077
58  6.63864130  6.40970300  7.85548205  6.60506457  6.17206523  6.52039120
59  8.21307880  7.97982327  9.37681089  8.19992932  7.76420391  8.07824790
60  8.59863412  8.35142680  9.58942121  8.73831336  8.25953436  8.40640238
            25          26          27          28          29          30
2                                                                         
3                                                                         
4                                                                         
5                                                                         
6                                                                         
7                                                                         
8                                                                         
9                                                                         
10                                                                        
11                                                                        
12                                                                        
13                                                                        
14                                                                        
15                                                                        
16                                                                        
17                                                                        
18                                                                        
19                                                                        
20                                                                        
21                                                                        
22                                                                        
23                                                                        
24                                                                        
25                                                                        
26  0.62715835                                                            
27  0.63823101  0.18829985                                                
28  1.16565923  0.56370094  0.53484955                                    
29  1.77182986  1.80617852  1.61990369  1.79156201                        
30  1.78846709  1.16279845  1.17894945  0.65459065  2.28443517            
31  8.09860408  7.47835077  7.52633830  7.00952541  8.32591242  6.35493779
32 10.10777222  9.48078240  9.50420444  8.97315412 10.08698679  8.32591242
33  8.75215322  8.13228440  8.18077711  7.66411240  8.97315412  7.00952541
34  9.26114714  8.64315546  8.69494687  8.18077711  9.50420444  7.52633830
35  9.20331023  8.58759468  8.64315546  8.13228440  9.48078240  7.47835077
36  9.81736967  9.20331023  9.26114714  8.75215322 10.10777222  8.09860408
37  8.46226736  7.85800734  7.92847252  7.43356345  8.88274772  6.78551402
38  8.23471432  7.61285432  7.65729186  7.13776894  8.42847222  6.48330119
39  8.69336961  8.06887980  8.10594735  7.58148996  8.81447404  6.92831764
40  9.70167711  9.11570620  9.20208756  8.72783420 10.25303279  8.09144409
41  8.38662006  7.77670930  7.84066964  7.33845481  8.75021374  6.68719120
42  8.62784715  8.01625521  8.07794333  7.57322361  8.96778109  6.92101440
43 11.10821278 10.49167624 10.54538028 10.03231102 11.34800758  9.37796823
44 10.81232356 10.19734098 10.25353319  9.74272436 11.07749597  9.08874681
45  9.61947789  9.00712484  9.06741552  8.56085598  9.93424475  7.90797085
46  9.00493454  8.38849617  8.44298465  7.93122909  9.27550606  7.27713710
47  8.81096145  8.20341445  8.27004523  7.77050892  9.19254785  7.12026319
48 11.68486683 11.06971251 11.12543942 10.61400304 11.93806780  9.95989178
49 10.09573482  9.47664011  9.52618165  9.00993861 10.30832992  8.35535681
50  9.92937075  9.30412478  9.33812653  8.81172379 10.00502969  8.15962234
51  9.20761780  8.58049770  8.60177910  8.07009768  9.18122142  7.42401495
52  8.64478472  8.01820729  8.02911263  7.49500749  8.53739879  6.85654215
53  8.75987867  8.13411427  8.16625421  7.63910063  8.83650811  6.98750604
54  9.31577867  8.69445736  8.73972623  8.22046497  9.49998928  7.56598309
55  8.87590177  8.26806124  8.33432057  7.83433733  9.25332594  7.18389280
56  9.16010874  8.53573413  8.57302823  8.04859669  9.27580859  7.39542268
57  8.70082696  8.07964416  8.12542900  7.60672654  8.89867771  6.95219108
58  7.80693677  7.18383243  7.22534851  6.70395149  7.98320033  6.04977293
59  9.38876579  8.76753942  8.81299407  8.29384718  9.57362955  7.63935490
60  9.79569791  9.19073660  9.25990459  8.76275964 10.18878688  8.11339452
            31          32          33          34          35          36
2                                                                         
3                                                                         
4                                                                         
5                                                                         
6                                                                         
7                                                                         
8                                                                         
9                                                                         
10                                                                        
11                                                                        
12                                                                        
13                                                                        
14                                                                        
15                                                                        
16                                                                        
17                                                                        
18                                                                        
19                                                                        
20                                                                        
21                                                                        
22                                                                        
23                                                                        
24                                                                        
25                                                                        
26                                                                        
27                                                                        
28                                                                        
29                                                                        
30                                                                        
31                                                                        
32  2.28443517                                                            
33  0.65459065  1.79156201                                                
34  1.17894945  1.61990369  0.53484955                                    
35  1.16279845  1.80617852  0.56370094  0.18829985                        
36  1.78846709  1.77182986  1.16565923  0.63823101  0.62715835            
37  1.04388134  2.74771798  1.02153004  1.16379775  1.00070733  1.47103076
38  0.19820103  2.09369783  0.55019065  1.08501179  1.09912431  1.71365017
39  0.74658322  1.54541693  0.51074216  0.89012720  0.99710922  1.51027237
40  2.45430092  3.28100547  2.11669934  1.82775868  1.66211377  1.51162609
41  0.74588246  2.54342973  0.77001579  1.02594228  0.89425057  1.45321467
42  0.80378148  2.32717828  0.60374817  0.77384240  0.63581925  1.19968349
43  3.02931718  1.93622342  2.37707904  1.85231771  1.90576427  1.30613304
44  2.75204391  1.90150809  2.10521330  1.57331380  1.61047317  0.99723426
45  1.63457568  1.91540321  1.04476353  0.55743492  0.48195001  0.23178989
46  0.95690941  1.85255029  0.37738547  0.28361254  0.20598354  0.83288070
47  1.09870764  2.43874814  0.83320372  0.82409605  0.64616729  1.08504503
48  3.61651172  2.41278304  2.96567293  2.43802907  2.48232234  1.86920989
49  2.00048342  1.34294474  1.34591031  0.83998138  0.93586886  0.50772045
50  1.92700914  0.56155111  1.35256226  1.08905917  1.27049581  1.21420970
51  1.58989248  0.90731366  1.30559724  1.42771591  1.60033379  1.88142139
52  1.63262311  1.58021501  1.64091495  1.94695507  2.08920297  2.49472953
53  0.93457475  1.40410846  0.72494234  1.03881061  1.16844817  1.63019689
54  1.22078737  1.32424733  0.58007228  0.31533104  0.50203674  0.80808352
55  1.13324515  2.39713867  0.82798359  0.77881140  0.59715573  1.01928123
56  1.15112902  1.15439684  0.64700004  0.69197056  0.86155916  1.20986622
57  0.60757520  1.74787269  0.13227494  0.63055076  0.68255900  1.26803614
58  0.39539386  2.42611505  0.99592991  1.53071397  1.53639220  2.15614734
59  1.29293000  1.29430995  0.64928425  0.32735410  0.51542157  0.75818820
60  1.98465481  2.36179172  1.46563577  1.03395408  0.91560319  0.58998128
            37          38          39          40          41          42
2                                                                         
3                                                                         
4                                                                         
5                                                                         
6                                                                         
7                                                                         
8                                                                         
9                                                                         
10                                                                        
11                                                                        
12                                                                        
13                                                                        
14                                                                        
15                                                                        
16                                                                        
17                                                                        
18                                                                        
19                                                                        
20                                                                        
21                                                                        
22                                                                        
23                                                                        
24                                                                        
25                                                                        
26                                                                        
27                                                                        
28                                                                        
29                                                                        
30                                                                        
31                                                                        
32                                                                        
33                                                                        
34                                                                        
35                                                                        
36                                                                        
37                                                                        
38  1.15626645                                                            
39  1.49190226  0.55125497                                                
40  1.49238731  2.50516188  2.61792322                                    
41  0.30240079  0.85386999  1.21090763  1.74080790                        
42  0.42552448  0.85441746  1.09398144  1.65433618  0.25911832            
43  2.76243655  2.91956140  2.57215294  2.28487809  2.75934765  2.50529238
44  2.44185319  2.65298862  2.34105746  1.98774926  2.44796843  2.19620785
45  1.24329601  1.58004551  1.44706266  1.37473963  1.24082845  0.99248181
46  0.90029865  0.89786860  0.85267536  1.76825085  0.74370898  0.49531066
47  0.38610457  1.14856092  1.34162231  1.35836845  0.44490980  0.29602593
48  3.29747186  3.50968140  3.16233325  2.62750599  3.31693696  3.06681970
49  1.90198573  1.88160971  1.53482075  1.98834176  1.82871209  1.56966207
50  2.24288259  1.75260448  1.24215102  2.72076522  2.06514429  1.83234989
51  2.32619925  1.39191349  0.86840725  3.25501387  2.06092102  1.90890814
52  2.58308733  1.46183800  1.13025690  3.73909668  2.28677017  2.20942537
53  1.71676085  0.73637426  0.22507145  2.81253999  1.43585261  1.31652319
54  1.42826996  1.08272197  0.73279895  2.13055937  1.24811256  1.01449174
55  0.45176935  1.17293967  1.33846038  1.33240091  0.50354886  0.33026548
56  1.64957921  0.97153565  0.46710791  2.51942207  1.41448091  1.22425600
57  1.12197120  0.47107492  0.38446875  2.24884394  0.85480436  0.71377640
58  1.39631518  0.44644399  0.90193713  2.83957023  1.11021448  1.19560289
59  1.46887673  1.15616396  0.80138364  2.11627013  1.29917716  1.06041956
60  1.33365352  1.96631058  1.91109934  0.92528778  1.43875931  1.23352477
            43          44          45          46          47          48
2                                                                         
3                                                                         
4                                                                         
5                                                                         
6                                                                         
7                                                                         
8                                                                         
9                                                                         
10                                                                        
11                                                                        
12                                                                        
13                                                                        
14                                                                        
15                                                                        
16                                                                        
17                                                                        
18                                                                        
19                                                                        
20                                                                        
21                                                                        
22                                                                        
23                                                                        
24                                                                        
25                                                                        
26                                                                        
27                                                                        
28                                                                        
29                                                                        
30                                                                        
31                                                                        
32                                                                        
33                                                                        
34                                                                        
35                                                                        
36                                                                        
37                                                                        
38                                                                        
39                                                                        
40                                                                        
41                                                                        
42                                                                        
43                                                                        
44  0.32624670                                                            
45  1.52392824  1.20841772                                                
46  2.10328254  1.81191093  0.68260482                                    
47  2.37947077  2.06033854  0.85798425  0.59462394                        
48  0.59163632  0.87260552  2.07612395  2.68277552  2.92025130            
49  1.04279393  0.80983429  0.72201006  1.11290148  1.52056967  1.63442998
50  1.60281715  1.49076550  1.35385242  1.34268294  1.91315510  2.14852738
51  2.55065703  2.41360654  1.92280305  1.54109831  2.11433939  3.10059161
52  3.27399737  3.12282102  2.49070679  1.97110702  2.46899355  3.82890848
53  2.60686550  2.39716062  1.59354872  1.04445851  1.55813504  3.19204693
54  1.85556508  1.61207101  0.80418539  0.52912245  1.11564729  2.44718831
55  2.31281664  1.99358928  0.79173311  0.56340731  0.06678037  2.85350259
56  2.14104267  1.93178017  1.21227453  0.81086015  1.39755333  2.72715465
57  2.44941585  2.18638757  1.16012346  0.50489111  0.95720477  3.03996785
58  3.36490395  3.09942086  2.01434469  1.33224519  1.48878332  3.95535912
59  1.78264958  1.54115668  0.77229767  0.56873771  1.14518808  2.37424479
60  1.55083762  1.22644470  0.49549478  1.08832471  0.99662859  2.02282451
            49          50          51          52          53          54
2                                                                         
3                                                                         
4                                                                         
5                                                                         
6                                                                         
7                                                                         
8                                                                         
9                                                                         
10                                                                        
11                                                                        
12                                                                        
13                                                                        
14                                                                        
15                                                                        
16                                                                        
17                                                                        
18                                                                        
19                                                                        
20                                                                        
21                                                                        
22                                                                        
23                                                                        
24                                                                        
25                                                                        
26                                                                        
27                                                                        
28                                                                        
29                                                                        
30                                                                        
31                                                                        
32                                                                        
33                                                                        
34                                                                        
35                                                                        
36                                                                        
37                                                                        
38                                                                        
39                                                                        
40                                                                        
41                                                                        
42                                                                        
43                                                                        
44                                                                        
45                                                                        
46                                                                        
47                                                                        
48                                                                        
49                                                                        
50  0.81667642                                                            
51  1.65381209  0.95207005                                                
52  2.34081091  1.68080472  0.73001563                                    
53  1.58747796  1.17427515  0.65733677  0.92664954                        
54  0.81286403  0.81811247  1.12717710  1.69226098  0.82586738            
55  1.45857887  1.86703772  2.09505639  2.46803412  1.55190634  1.07654466
56  1.12255721  0.78309801  0.73892356  1.28541396  0.46633646  0.40863689
57  1.41060276  1.33969225  1.20677275  1.51296575  0.60378929  0.61504960
58  2.32553185  2.14282865  1.63034703  1.49299456  1.02257449  1.52128574
59  0.74013069  0.77400598  1.15098245  1.73695934  0.88535928  0.07371802
60  1.06484017  1.80393575  2.41817556  2.97913528  2.07191787  1.29852966
            55          56          57          58          59
2                                                             
3                                                             
4                                                             
5                                                             
6                                                             
7                                                             
8                                                             
9                                                             
10                                                            
11                                                            
12                                                            
13                                                            
14                                                            
15                                                            
16                                                            
17                                                            
18                                                            
19                                                            
20                                                            
21                                                            
22                                                            
23                                                            
24                                                            
25                                                            
26                                                            
27                                                            
28                                                            
29                                                            
30                                                            
31                                                            
32                                                            
33                                                            
34                                                            
35                                                            
36                                                            
37                                                            
38                                                            
39                                                            
40                                                            
41                                                            
42                                                            
43                                                            
44                                                            
45                                                            
46                                                            
47                                                            
48                                                            
49                                                            
50                                                            
51                                                            
52                                                            
53                                                            
54                                                            
55                                                            
56  1.37214201                                                
57  0.95508057  0.59357393                                    
58  1.52576198  1.36183259  0.91549317                        
59  1.10283288  0.45171522  0.68793957  1.59498287            
60  0.93546169  1.70571640  1.59136180  2.37771650  1.26779167</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>hc <span class="ot">&lt;-</span> <span class="fu">hclust</span>(<span class="fu">dist</span>(x))</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>hc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
hclust(d = dist(x))

Cluster method   : complete 
Distance         : euclidean 
Number of objects: 60 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(hc)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span><span class="dv">8</span>, <span class="at">col=</span><span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Class-07-Machine-Leaning_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The function to get our clusters/groups from a hclust abject is claaed <code>cutree()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>grps <span class="ot">&lt;-</span> <span class="fu">cutree</span>(hc, <span class="at">h=</span><span class="dv">8</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>grps</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2
[39] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Q. Plot our hclust results in terms of our data colored by cluster membership.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">col=</span>grps)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Class-07-Machine-Leaning_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="principal-component-analysis-pca" class="level1">
<h1>Principal Component Analysis (PCA)</h1>
<section id="one-of-the-most-useful-tools" class="level2">
<h2 class="anchored" data-anchor-id="one-of-the-most-useful-tools">One of the most useful tools (!?)</h2>
<p>#We will work on data from the strange stuff folks there eat. It has 17 different foods for 4 countries.</p>
<p>#Load the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">"https://tinyurl.com/UK-foods"</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>Q1. How many rows and columns are in your new data frame named x? What R functions could you use to answer this questions? #We can use <code>nrow()</code>, <code>ncol()</code>, or <code>dim()</code> functions.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(x) <span class="co">#Return the row number and column number.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 17  5</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Q2. Which approach to solving the ‘row-names problem’ mentioned above do you prefer and why? Is one approach more robust than another under certain circumstances?</p>
</blockquote>
<p>#We can do it like this below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(x) <span class="ot">&lt;-</span> x[,<span class="dv">1</span>]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               England Wales Scotland N.Ireland
Cheese             105   103      103        66
Carcass_meat       245   227      242       267
Other_meat         685   803      750       586
Fish               147   160      122        93
Fats_and_oils      193   235      184       209
Sugars             156   175      147       139</code></pre>
</div>
</div>
<p>#Or this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(url, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               England Wales Scotland N.Ireland
Cheese             105   103      103        66
Carcass_meat       245   227      242       267
Other_meat         685   803      750       586
Fish               147   160      122        93
Fats_and_oils      193   235      184       209
Sugars             156   175      147       139</code></pre>
</div>
</div>
</section>
<section id="preview-the-first-6-rows.-we-can-use-view-head-and-tail-functions." class="level2">
<h2 class="anchored" data-anchor-id="preview-the-first-6-rows.-we-can-use-view-head-and-tail-functions.">Preview the first 6 rows. (We can use <code>view()</code>, <code>head()</code>, and <code>tail()</code> functions.)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(x,<span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               England Wales Scotland N.Ireland
Cheese             105   103      103        66
Carcass_meat       245   227      242       267
Other_meat         685   803      750       586
Fish               147   160      122        93
Fats_and_oils      193   235      184       209
Sugars             156   175      147       139</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Q3: Changing what optional argument in the above barplot() function results in the following plot?</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(x, <span class="at">col=</span><span class="fu">rainbow</span>(<span class="dv">10</span>), <span class="at">pch=</span><span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Class-07-Machine-Leaning_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>#PCA to the rescue</p>
<p>Help me make sense of this data… The main function for PCA in base R is called <code>prcomp()</code>.</p>
<p>It wants the transpose (with the <code>t()</code>) of our food data for analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>pca <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(<span class="fu">t</span>(x))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pca) <span class="co">#Give SD, proportion of variance and cumulative proportion.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                            PC1      PC2      PC3       PC4
Standard deviation     324.1502 212.7478 73.87622 3.176e-14
Proportion of Variance   0.6744   0.2905  0.03503 0.000e+00
Cumulative Proportion    0.6744   0.9650  1.00000 1.000e+00</code></pre>
</div>
</div>
<p>One of the main results that folks look for is called the “score plot” a.k.a. PC plot, PC1 vs PC2 plot…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca<span class="sc">$</span>x[,<span class="dv">1</span>], pca<span class="sc">$</span>x[,<span class="dv">2</span>])</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span><span class="dv">0</span>, <span class="at">col=</span><span class="st">"gray"</span>, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span><span class="dv">0</span>, <span class="at">col=</span><span class="st">"gray"</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Class-07-Machine-Leaning_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<blockquote class="blockquote">
<p>Q10: How many genes and samples are in this data set?</p>
</blockquote>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>